# 8.2 管道`channel`
> 协程之间可以通过全局变量来通信，但不推荐，推荐使用`channel`管道。
  数据在通道中进行传递：在任何给定时间，一个数据被设计为只有一个协程可以对其访问，所以不会发生数据竞争。
  数据的所有权（可以读写数据的能力）也因此被传递。可以理解为队列，消息先进先出。

## 1、管道定义（使用`channel`）
> 使用`chan`关键字来声明。只能传递一种数据类型。
 
        //声明一个管道
        var identifier chan datatype //  datatype为数据类型，未初始化的管道的值为nil
        var ch chan int //例子 等于nil
        
        ch := make(chan datatype, len) //使用make关键字定义，分配内存
        

## 2、通信操作符 `<-`    
> 有3种方式 
        
         ch := make(chan int) //chan为管道
         ch <- data ： 表示发送数据到管道
         d <-ch ：表示从管道取出数据
         <- ch ：单独调用获取通道的下一个值，但不接受
                   
```go
package main

import (
	"fmt"
	"time"
)

func main() {
	ch := make(chan int)
	go sendData(ch)
	go getData(ch)
	time.Sleep(time.Second)
}

//向通道发送消息 <-
func sendData(ch chan int) {
	for i := 0; i < 10; i++ {
		ch <- i //发送数据
	}
}

func getData(ch chan int) {
	for {
		fmt.Println("GETDATA")
		data := <-ch
		fmt.Println(data)
	}
}
``` 
       
## 3、阻塞管道
> 使用`make`创建管道时，若没指明长度则为阻塞管道，默认为阻塞管道；否则为有缓冲的通道。<br>
无缓冲（阻塞）管道：发送者和接收者必须都准备好，只要其中一方没准备好，则通道是阻塞的。      

       1、对同一个通道，发送操作在接收者准备好之前是阻塞的，阻塞时通信的值为发送的第一个值，当通道值不为空时，是不能再发送其他值。
       2、    
     