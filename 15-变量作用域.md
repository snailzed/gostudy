# 15、变量作用域
> 变量分为全局变量和局部变量；变量其作用的范围

## 1、全局变量
> 作用域是全局。在函数体外部定义的变量都是全局变量，全局变量在任何地方都能使用

```go
package main

import "fmt"

var a int = 100 //全局变量
var b int = 1   //全局变量
func main() {
	var b int = 11 //局部变量
	fmt.Println("a =", a)
	fmt.Println("b =", b) //就近原则访问变量
}
```

## 2、局部变量
> 作用域为局部。在函数内部定义、`if else`、`for`、`switch case`初始化的变量仅仅局限于其`{}`代码块内。
局部变量和全局变量存在同名变量，就近原则访问。（执行到定义变量那句话，才开始分配空间，离开作用域自动释放）

```go
package main

import "fmt"

var a int = 100 //全局变量
var b int = 1   //全局变量
func main() {
	var b int = 11 //局部变量
	fmt.Println("a =", a)
	fmt.Println("b =", b) //就近原则访问变量
	testLocalVar()
}

func testLocalVar() {
	//if else  a1的作用域仅局限于if else代码块
	if a1 := 1; a1 > 2 {
		fmt.Println("true:a=", a1)
	} else {
		fmt.Println("false:a=", a1)
	}
	//fmt.Println("a1=", a1)//报错

	//for代码块 i仅在{}生效
	for i := 1; i < 10; i++ {
		fmt.Printf("i = %d\n", i)
	}
	//fmt.Printf("i = %d\n", i) //报错 undefined:i

	//switch代码块
	switch j := 1; j == 1 {
	case true:
	case false:
	}
	//fmt.Println(j)//报错
}

```

## 3、变量可见性
>可见性：即包内的任何变量或函数都是可以被外部访问的。大写字母开头的变量或函数可以被其他包访问，小写则表明是私有的，只能被当前包访问。

****